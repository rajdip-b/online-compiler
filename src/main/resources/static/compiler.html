<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<!--     <link rel="stylesheet" href="lib/compiler.css">-->
    <link rel="stylesheet" href="https://d21kkv08caclr3.cloudfront.net/online-compiler/compiler.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.14/ace.js" integrity="sha512-6ts6Fu561/yzWvD6uwQp3XVYwiWNpWnZ0hdeQrETqtnQiGjTfOS06W76aUDnq51hl1SxXtJaqy7IsZ3oP/uZEg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.14/ext-language_tools.min.js" integrity="sha512-S7Whi8oQAQu/MK6AhBWufIJIyOvqORj+/1YDM9MaHeRalsZjzyYS7Usk4fsh+6J77PUhuk5v/BxaMDXRdWd1KA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.14/mode-java.min.js" integrity="sha512-hJKYIlNN4RhfIA3V/Eoe/FGbm2dTrZxCYYb2FpyYTBCm6346UJvrZtW/KK7PCcV7gjDBVPGgGjMQ6/jV+aooag==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.14/mode-c_cpp.min.js" integrity="sha512-hJKYIlNN4RhfIA3V/Eoe/FGbm2dTrZxCYYb2FpyYTBCm6346UJvrZtW/KK7PCcV7gjDBVPGgGjMQ6/jV+aooag==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.14/mode-python.min.js" integrity="sha512-hJKYIlNN4RhfIA3V/Eoe/FGbm2dTrZxCYYb2FpyYTBCm6346UJvrZtW/KK7PCcV7gjDBVPGgGjMQ6/jV+aooag==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.14/theme-one_dark.min.js" integrity="sha512-DL7jU9qDTsdJtyh2Kqm/dZp9w5Kkb7eiwOH7jC8Z9qfyQIXCtc+YA6uVz2uOcutNt5+zVzOO5hDK6C1pYOnTmQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.14/theme-dawn.min.js" integrity="sha512-38hwQeL0t4dI4yQBCJsiLQFI5dGZDul/4hwwElbXc/phKyXxN9GGpbjz3Ez4IJzXaQUfjFIIf1Me7eyUueezXw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.0/FileSaver.min.js" integrity="sha512-csNcFYJniKjJxRWRV1R7fvnXrycHP6qDR21mgz1ZP55xY5d+aHLfo9/FcGDQLfn2IfngbAHd8LdfsagcCqgTcQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
    <!-- <script src="lib/compiler.js"></script> -->
    <script src="https://d21kkv08caclr3.cloudfront.net/online-compiler/compiler.js"></script>
    <title>Online CodeCompiler - Compiler</title>
</head>
<body>
    <nav class="navbar navbar-dark navbar-expand-lg p-3 bg-success">
        <a class="navbar-brand" href="/home">Online CodeCompiler</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse " id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="/home">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/compiler">Compiler</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/community">Community</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="https://github.com/rajdip-b/online-compiler">GitHub</a>
              </li>
          </ul>
        </div>
      </nav>
    <div class="container">
        <div class="top-section justify-content-around row mt-5 p-2">
            <select id="listLanguage" class="   form-select col-sm mb-2" style="margin-right: 10%; margin-left: 10%;" onchange="onLanguageChanged(this)" onclick="onLanguageSelectionClicked(this)">
                <option value="java">Java</option>
                <option value="cpp">C++</option>
                <option value="c">C</option>
                <option value="python">Python</option>
            </select>
            <select name="" id="listTheme" class="form-select col-sm mb-2" style="margin-right: 10%; margin-left: 10%;" onchange="onThemeChanged(this)">
                <option value="light">Light</option>
                <option value="dark">Dark</option>
            </select>
        </div>
        <div class="code-section row mt-5">
            <div class="left-section col-lg-7 code-editor-section">
                <div class="row justify-content-between m-1">
                    <span class="h5 col-6 mb-4">Write your code here</span>
                    <button id="btnDownload" class="col-3 btn btn-outline-primary" onclick="onDownloadClicked()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                            <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                            <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                        </svg>
                        Download
                    </button>
                </div>
                <div id="codeEditor" class="border rounded border-grey col w-100 mt-3 mb-3"></div>
            </div>
            <div class="right-section col-lg">
                <span class="h5 col mb-4">Code input</span>
                <textarea id="codeInput" placeholder="Enter input if any" class="form-control border rounded border-grey row w-100 mt-3" name="" id="" cols="30" rows="10"></textarea>
                <div class="buttons row justify-content-center mt-3 mb-3">
                    <button id="btnRun" class="col btn btn-outline-success m-5 mb-2 mt-2" onclick="onRunClicked()">Run</button>
                    <button id="btnReset" class="col btn btn-outline-danger m-5 mb-2 mt-2" onclick="onResetClicked()">Reset</button>
                </div>
                <div id="execStatus" class="loading-card row p-3 mb-3 mt-3 border border-primary text-primary rounded">Executing your code...</div>
                <div id="compilationSuccess" class="success-card row p-3 mb-3 mt-3 border border-success text-success rounded">
                    <div class="col">Compilation Successful!</div>
                    <button id="btnClose" type="button" class="btn-close btn-close-black align-self-end" aria-label="Close" onclick="onCloseClicked(this)"></button>
                </div>
                <div id="compilationFailed" class="error-card row p-3 mb-3 mt-3 border border-danger text-danger rounded">
                    <div class="col">Compilation Failed!</div>
                    <button id="btnClose" type="button" class="btn-close btn-close-black align-self-end" aria-label="Close" onclick="onCloseClicked(this)"></button>
                </div>
                <span class="h5 col mb-4">Code output</span>
                <div id="codeOutput" class="border rounded border-grey mt-3 w-100 p-3">Run the code for an output.</div>
            </div>
            
        </div>
        <div class="row justify-content-between mt-4 mb-5 p-2">
            <div class="me-1 col-lg-6 border rounded p-3 mt-3 border-grey">
                <div class="h4">Save your code</div>
                <div class="mb-4">Save your current work for future use. This code can be shared with your freinds or it can be globally accessible by the community.</div>
                <div class="h6 mb-4">Codes saved for private only would be deleted after 30 days from creation while codes saved for community would persist.</div>
                    <div class="h6 mb-2">Give a title to your code.</div>
                    <input type="text" id="txtTitle" class="form-control rounded mb-3" placeholder="Enter title (required)"></textarea>
                    <div class="h6 mb-2">Provide a little bit of description that would pop up everytime someone views your code.</div>
                    <textarea id="txtDescription" class="form-control mb-1" placeholder="Enter code description in less that 500 words (Note that this is optional.)" name="" id="" cols="44" rows="10"></textarea>
                    <input type="text" class="mt-3 mb-4 form-control" id="txtAuthor" placeholder="Enter your name for the community">
                    <button id="btnSaveForCommunity" class="btn btn-outline-success w-auto" onclick="showSaveForCommunityModal()">Save for community</button>
                    <button id="btnSaveForSelf" class="btn btn-outline-success w-auto" onclick="onSaveForSelfClicked()">Save for self</button>

                    <div id="statusSavingCode" class="loading-card row p-3 mb-3 mt-3 border border-primary text-primary rounded">Saving your code...</div>

                    <div id="statusCodeSaved" class="success-card row p-3 mb-3 mt-3 border border-success text-success rounded">
                        <div id="statusCodeSavedTxt" class="col">Saved code successfully!</div>
                        <button id="btnClose" type="button" class="btn-close btn-close-black align-self-end" aria-label="Close" onclick="onCloseClicked(this)"></button>
                    </div>  

                    <div id="statusCodeSaveFailed" class="error-card row p-3 mb-3 mt-3 border border-danger text-danger rounded">
                        <div class="col">Error while saving code!</div>
                        <button id="btnClose" type="button" class="btn-close btn-close-black align-self-end" aria-label="Close" onclick="onCloseClicked(this)"></button>
                    </div>
            </div>
            <div class="col-lg-5">
                <div class=" border rounded p-3 mt-3 border-grey h-auto">
                    <div class="h4">Load up a code</div>
                    <div class="mb-4">If you have the code tag of you friends' code, feel free to look into their work! Just paste the code below and load it up.</div>
                    <input id="txtCodeTag" class="form-control mb-2" placeholder="Enter code tag" type="text">
                    <button id="btnLoadCode" class="w-auto btn btn-outline-success" onclick="onLoadCodeClicked()">Load code</button>
                    <button id="btnViewDescription" class="btn btn-outline-primary" onclick="onViewDescriptionClicked()">View Description</button>
    
                    <div id="statusLoadingCode" class="loading-card row p-3 mb-3 mt-3 border border-primary text-primary rounded">Loading the code...</div>
                    <div id="statusLoadedCode" class="success-card row p-3 mb-3 mt-3 border border-success text-success rounded">
                        <div class="col">Code loaded successfully!</div>
                        <button id="btnClose" type="button" class="btn-close btn-close-black align-self-end" aria-label="Close" onclick="onCloseClicked(this)"></button>
                    </div>  
                    <div id="statusLoadingCodeFailed" class="error-card row p-3 mb-3 mt-3 border border-danger text-danger rounded">
                        <div class="col">Error while loading code!</div>
                        <button id="btnClose" type="button" class="btn-close btn-close-black align-self-end" aria-label="Close" onclick="onCloseClicked(this)"></button>
                    </div>
                    <div id="statusCodeDoesntExist" class="error-card row p-3 mb-3 mt-3 border border-danger text-danger rounded">
                        <div class="col">Error while loading code! Code doesn't exist.</div>
                        <button id="btnClose" type="button" class="btn-close btn-close-black align-self-end" aria-label="Close" onclick="onCloseClicked(this)"></button>
                    </div> 
                </div>
                <div id="sectionUpdateCode" class="border rounded p-3 mt-3 border-grey h-auto">
                    <div class="h4">Update this code</div>
                    <div class="mb-4">If you feel that you have made a significant change to the code, feel free to update it. You may also save it as a new code but that's upto you. :)</div>
                    <button id="btnUpdateCode" class="btn btn-outline-success w-25" onclick="onUpdateCodeClicked()">Update code</button>
    
                    <div id="statusUpdatingCode" class="loading-card row p-3 mb-3 mt-3 border border-primary text-primary rounded">Updating the code...</div>
                    <div id="statusUpdatedCode" class="success-card row p-3 mb-3 mt-3 border border-success text-success rounded">
                        <div class="col">Code updated successfully!</div>
                        <button id="btnClose" type="button" class="btn-close btn-close-black align-self-end" aria-label="Close" onclick="onCloseClicked(this)"></button>
                    </div>  
                    <div id="statusUpdatingCodeFailed" class="error-card row p-3 mb-3 mt-3 border border-danger text-danger rounded">
                        <div class="col">Error while updating code!</div>
                        <button id="btnClose" type="button" class="btn-close btn-close-black align-self-end" aria-label="Close" onclick="onCloseClicked(this)"></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="descriptionModal" tabindex="-1" role="dialog" aria-labelledby="codeDescription" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-black" id="modalCodeTitle">Code title</h5>
                    <button onclick="hideDescriptionModal()" type="button" class="close btn btn-close" data-dismiss="modal" aria-label="Close">
                    </button>
                </div>
                <div class="modal-body text-black">
                    <div id="modalDesc"></div>
                </div>
                <div class="modal-footer">
                    <button onclick="hideDescriptionModal()" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="saveCodeModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-black" id="exampleModalLabel">Save your code on your machine.</h5>
                    <button onclick="hideSaveCodeModal()" type="button" class="close btn btn-close" data-dismiss="modal" aria-label="Close">
                    </button>
                </div>
                <div class="modal-body text-black container">
                    <div class="row">
                        <span class="col-6 text-black">Name your code</span>
                        <input class="col form-control text-black" type="text" name="" id="txtCodeName">
                        <span id="txtCodeExtention" class="col text-secondary"></span>
                    </div>
                </div>
                <div class="modal-footer">
                    <button onclick="hideSaveCodeModal()" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button class="btn btn-outline-success" onclick="onSaveCodeToMachineClicked()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                            <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                            <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="savedCodeInfoModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-black" id="exampleModalLabel">Your code has been saved locally!</h5>
                    <button onclick="hideCodeSavedInfoModal()" type="button" class="close btn btn-close" data-dismiss="modal" aria-label="Close">
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="saveForCommunityModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-body text-black">
                    <div>
                        Since this site is built for community usage, we dont keep any track of the codes that you post. It's all upto you to keep
                        the code resonable and user friendly. We ask you to verify your code before posting it to the community, ensuring that it would be of use
                        to other users, keeping in mind of a long term fair use of this community. Thank you.
                    </div>
                </div>
                <div class="modal-footer">
                    <button onclick="onSaveForCommunityClicked()" type="button" class="btn btn-success" data-dismiss="modal">I understand. Post my code.</button>
                    <button onclick="hideSaveForCommunityModal()" type="button" class="btn btn-danger" data-dismiss="modal">I'm not quite sure</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>